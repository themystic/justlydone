{% extends "base.html" %}

{% block page_contents %}

    <div class="row">

        <div class="offset3 span5">
            <h1>Login to LibreTodo</h1>
            <form method="POST">
                {% csrf_token %}
                {% if form.non_field_errors %}
                    <ul class="control-group error">
                        {% for error in form.non_field_errors%}
                            <li class="help-inline">{{error}}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% for field in form %}
                    <div class="control-group {% if field.errors %} error {% endif %}">
                        <label for="#id_username" class="control-label">{{ field.label }}</label>
                        {{ field }}
                    {% if field.errors %}
                        {% for error in field.errors %}
                            <span class="help-inline">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                    </div>
                {% endfor  %}
                <div class="control-group">
                    <input type="submit" class="btn" value="Login!">
                </div>
            </form>
        </div>
    </div>

{% endblock %}

{% block bottom_script_page %}
    <script type="text/javascript">
        require.config(global_require_config)
        require(["jquery"], function($) {
            $(".control-group input").focus(function(e) {
            $(this).parents(".error").removeClass("error")
        })
    })
    </script>
{% endblock %}